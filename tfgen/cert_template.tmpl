#
# Minimal terraform code for your example:
# ----------------------------------------------------------------------------

resource "az-confidential_certificate" "confidential_certificate" {
  content = "{{ .EncryptedContent }}"
  {{- if .DefinesCEK }}
  content_encryption_key = "{{ .ContentEncryptionKey }}"
  {{- end }}

  # This certificate is enabled for operation. Optionally, there is an option
  # to temporarily disable it.
  enabled = true

  # The certificate version cannot be used before this date
  # Needs to be formatted yyyy-mm-ddTHH:MM:SS'Z'
  # not_before_date = "{{ .NotBeforeExample }}"

  # The certificate version cannot be used after this date
  # Needs to be formatted yyyy-mm-dd'T'HH:MM:SS'Z'
  # not_after_date = "{{ .NotAfterExample }}"

  tags = {
      # Fill the tags as desired
      # tagName =  "TagValue"
    }

  destination_certificate = {
  {{- if .DestinationCoordinate.DefinesVaultName }}
    vault_name = "{{ .DestinationCoordinate.VaultName}}"
  {{- else }}
    # Vault name will be inferred from the key vault where the wrapping key is stored.
    # If this is not what you want, specify the destination vault explicitly
  {{- end }}
    name = "{{ .DestinationCoordinate.Name }}"
  }
}