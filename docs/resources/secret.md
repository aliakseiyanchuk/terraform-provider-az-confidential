---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "az-confidential_secret Resource - az-confidential"
subcategory: ""
description: |-
  Creates a version of a secret in the destination key vault from the
  provided ciphertext and additional parameters supplied as
  resource attributes.
  The ciphertext should be obtained using the tfgen command-line tool
  (see source code https://github.com/aliakseiyanchuk/terraform-provider-az-confidential-tfgen.)
  A typical command usage would be:
  
  tfgen -pubkey [path to the public key] \
  	-fixed-labels demo,test \
  	-output-vault [target vault name] -output-vault-object [target certificate name] \
  	secret
---

# az-confidential_secret (Resource)

Creates a version of a secret in the destination key vault from the
provided ciphertext and additional parameters supplied as
resource attributes.

The ciphertext should be obtained using the `tfgen` command-line tool
(see [source code](https://github.com/aliakseiyanchuk/terraform-provider-az-confidential-tfgen).)
A typical command usage would be:
```shell
tfgen -pubkey [path to the public key] \
	-fixed-labels demo,test \
	-output-vault [target vault name] -output-vault-object [target certificate name] \
	secret
```

## Example Usage

```terraform
# Copyright (c) HashiCorp, Inc.

resource "az-confidential_secret" "conf_secret" {
  content = "H4sIAAAAAAAA/1TStxaySABA4Z6n2J6zx4CoFFvAEIUBJAxIN0MUYUgi4en37N/tLW/9/f1fkqIZ9l/AsQPFDv4cph7NIBvNoDgtpm8DVaGIQw88f3/7HYvr2SD87gutPMpCL9i4Jewtvo3aR1MO4aycCmady6p7W4RfngLIXKuPLyabPofIvd3bZsBC9RQ0lvrjELFogSt2qXKKgvV8DYitRBMje1IBEnFDcJRpnYiAU/fuXZJVm90FQQXYHnaqpe9eDz80JyOwaP4NwOsKiVc9bj4TzdVLarQxQ8Ph6mbk/YF9GYuA6vshbqu38Wp2LEnqxslm+WN741zwW20F0kdQ90+5MMW23yCFc2R1g1FAL5O5NLE73M7yhNqEqG27isI5IduL1GuT6tnaaVw3/azjBT41wnRwItHxikp+W+bhoFYAN79qYxFLcEXEGHacLt1RyQ/9kmm8quvXZ1PmSXl4XiawTkzIybJgGwcnGetUi4DZNx/heR+XWKJGbFup7Xfg3F5m/spx0t0x2Fyqad5f9La29aPEBI7khjH6NF3PpxkIC4+NH3rZu54HNL8N8m/yHlKPGIF+V/OLc/L6qQjN7RZ3p1UiI5P+FAzlVbBpa+cv5XBdvQg5Lx6ufSviGpZZc9yrrjX1vL1k2nJcw6+CEaWyNAjQnpj85s+utMEwTqYtxcHqBUcro9CTL2nt33pz2HbQ941Ihg6omq9HNGmSH9qP7vucOZixzmb18TwYPs4bnstapYhQtXrvMzFQp7nDz3mp3zESgfgP8wevYsv/x/xvAAAA///TFelf5QIAAA=="

  # This secret is enabled for operation. Optionally, there is an option
  # to temporarily disable it.
  enabled = true

  # The secret version cannot be used before this date
  # Needs to be formatted yyyy-mm-ddTHH:MM:SS'Z'
  # not_before_date = "2025-06-14T20:56:08Z"

  # The secret version cannot be used after this date
  # Needs to be formatted yyyy-mm-dd'T'HH:MM:SS'Z'
  # not_after_date = "2026-06-14T20:56:08Z"

  tags = {
    # Fill the tags as desired
    # tagName =  "TagValue"
    addedTag = "AddedValue"
    addedTag1 = "AddedValue2"
  }

  destination_secret = {
    name = "example-secret-3b"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `content` (String) Encrypted confidential content to create this resource
- `destination_secret` (Attributes) Specification of a vault where this secret needs to be stored (see [below for nested schema](#nestedatt--destination_secret))

### Optional

- `content_type` (String) Content type of the secret, if required
- `enabled` (Boolean) Whether the version is enabled or not
- `not_after_date` (String) Secret not usable before the provided UTC datetime (Y-m-d'T'H:M:S'Z')
- `not_before_date` (String) Secret not usable before the provided UTC datetime (Y-m-d'T'H:M:S'Z')
- `tags` (Map of String) Set of tags to be assigned to this secret
- `wrapping_key` (Attributes) Wrapping key to use for key and secret unwrapping purposes (see [below for nested schema](#nestedatt--wrapping_key))

### Read-Only

- `id` (String) Identifier of the decryption operation
- `secret_version` (String) Version of the secret created in the target vault

<a id="nestedatt--destination_secret"></a>
### Nested Schema for `destination_secret`

Required:

- `name` (String) Name of the secret to store

Optional:

- `vault_name` (String) Vault where the secret needs to be stored. If omitted, defaults to the vault containing the wrapping key


<a id="nestedatt--wrapping_key"></a>
### Nested Schema for `wrapping_key`

Optional:

- `algorithm` (String) Algorithm to use for unwrapping secret/content encryption key; defaults to RSA OAEP 256; a sensible default that doesn't need to be changed
- `name` (String) Name of the wrapping key
- `vault_name` (String) Vault name containing the wrapping key
- `version` (String) Version of the wrapping key to use for unwrapping operations
